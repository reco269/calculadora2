/* style.css - VERSÃO COMPLETA */
:root{
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
  --bg:#0b0d12; --card:#121623; --panel:#0f1320;
  --border:#1d2438; --border2:#27304a; --text:#e8eaf0;
  --accent:#4d6cff; --accent-hover:#3d5cef;
  --custo:#f5c542; --ganho:#5ac878; --erro:#ff5c5c;
  --transition-fast: 150ms ease; --transition-normal: 250ms ease;
}
*{box-sizing:border-box; margin:0; padding:0;}
body{background:var(--bg); color:var(--text); line-height:1.6; -webkit-font-smoothing:antialiased;}
.wrap{max-width:1200px; margin:auto; padding:20px; min-height:100vh;}
.card{background:var(--card); border:1px solid var(--border); border-radius:16px; padding:24px; box-shadow:0 4px 24px rgba(0,0,0,0.2);}

/* Header */
.main-header{margin-bottom:20px; border-bottom:2px solid var(--border); padding-bottom:16px;}
.main-header h1{font-size:26px; font-weight:900; margin:0 0 6px; letter-spacing:-0.5px;}
.subtitle{font-size:14px; opacity:0.75; margin:0;}

/* Tabs */
.tabs-principal{display:flex; gap:8px; margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:2px; flex-wrap:wrap;}
.tab-btn{padding:10px 18px; background:transparent; border:none; border-bottom:3px solid transparent; color:var(--text); opacity:0.7; cursor:pointer; font-weight:700; font-size:14px; transition:all var(--transition-fast);}
.tab-btn:hover{opacity:1; background:rgba(77,108,255,0.1);}
.tab-btn.active{opacity:1; border-bottom-color:var(--accent); color:var(--accent);}
.tab-content{display:none;}
.tab-content.active{display:block;}

/* Templates */
.templates-section{background:var(--panel); border:1px solid var(--border2); border-radius:12px; padding:14px; margin-bottom:16px;}
.templates-section strong{display:block; margin-bottom:10px; font-size:13px;}
.templates-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(140px, 1fr)); gap:10px;}
.template-btn{padding:10px; background:var(--panel); border:1px solid var(--border2); border-radius:8px; color:var(--text); cursor:pointer; font-size:13px; font-weight:600; transition:all var(--transition-fast);}
.template-btn:hover{border-color:var(--accent); background:rgba(77,108,255,0.1); transform:translateY(-2px);}

/* Mode */
.mode{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:16px;}

/* Grid */
.grid{display:grid; grid-template-columns:repeat(12,1fr); gap:14px;}
.field{grid-column:span 6; transition:opacity var(--transition-normal);}
.field.full{grid-column:1 / -1;}

/* Inputs */
label{font-size:13px; font-weight:600; opacity:0.9; display:block; margin-bottom:8px; cursor:pointer;}
input,select{width:100%; min-height:48px; font-size:16px; padding:12px 14px; border-radius:12px; border:1px solid var(--border2); background:var(--panel); color:var(--text); outline:none; transition:all var(--transition-fast); font-family:inherit;}
input:hover,select:hover{border-color:var(--border);}
input:focus,select:focus{border-color:var(--accent); box-shadow:0 0 0 3px rgba(77,108,255,0.15);}
input:invalid:not(:focus){border-color:var(--erro);}

/* Input com botão */
.input-with-btn{display:flex; gap:8px;}
.input-with-btn input{flex:1;}
.btn-icon{min-width:48px; min-height:48px; padding:8px; background:var(--accent); border:1px solid var(--accent); border-radius:12px; color:var(--text); cursor:pointer; font-size:20px; transition:all var(--transition-fast);}
.btn-icon:hover{background:var(--accent-hover); transform:scale(1.05);}

/* Buttons */
.btn{cursor:pointer; min-height:48px; padding:12px 18px; border-radius:12px; border:1px solid #2b3554; background:#18203a; color:var(--text); font-weight:700; font-size:14px; white-space:nowrap; transition:all var(--transition-fast); font-family:inherit;}
.btn:hover{background:#1f2847; transform:translateY(-1px); box-shadow:0 4px 12px rgba(0,0,0,0.2);}
.btn:active{transform:translateY(0);}
.btn.primary{background:var(--accent); border-color:var(--accent);}
.btn.primary:hover{background:var(--accent-hover);}
.btn.active{border-color:var(--accent); background:rgba(77,108,255,0.15);}

/* Actions */
.actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:8px;}
.actions .btn{flex:1 1 160px;}

/* Time */
.time-row{display:flex; gap:12px;}
.time-row select{flex:1;}

/* Hint */
.hint{font-size:12px; opacity:0.7; margin-top:6px; line-height:1.4;}

/* Advanced */
.advanced{display:none;}
.advanced.is-open{display:contents; animation:fadeIn var(--transition-normal);}
@keyframes fadeIn {from{opacity:0;} to{opacity:1;}}

/* Badges */
.badge{display:inline-block; font-size:10px; font-weight:900; padding:4px 10px; border-radius:999px; margin-left:8px; vertical-align:middle; letter-spacing:0.5px; text-transform:uppercase;}
.badge-custo{color:var(--custo); border:1px solid rgba(245,197,66,0.6); background:rgba(245,197,66,0.12);}
.badge-ganho{color:var(--ganho); border:1px solid rgba(90,200,120,0.6); background:rgba(90,200,120,0.12);}

/* Boxes */
.custoField{background:rgba(245,197,66,0.06); border:1px solid rgba(245,197,66,0.20); border-radius:16px; padding:16px; transition:all var(--transition-normal);}
.custoField:hover{background:rgba(245,197,66,0.08); border-color:rgba(245,197,66,0.30);}
.ganhoField{background:rgba(90,200,120,0.06); border:1px solid rgba(90,200,120,0.20); border-radius:16px; padding:16px; transition:all var(--transition-normal);}
.ganhoField:hover{background:rgba(90,200,120,0.08); border-color:rgba(90,200,120,0.30);}

/* Selling */
.selling h2{margin:0 0 12px; font-size:16px; font-weight:700; opacity:0.95;}
.sell-grid{display:grid; grid-template-columns:2fr 1fr; gap:14px;}
.profitBox{background:var(--bg); border:2px solid var(--border); border-radius:14px; padding:14px; display:flex; flex-direction:column; justify-content:center; transition:all var(--transition-normal);}
.profitBox:hover{border-color:var(--ganho); box-shadow:0 4px 16px rgba(90,200,120,0.15);}
.profitBox .t{font-size:12px; opacity:0.75; font-weight:600;}
.profitBox .v{font-size:22px; font-weight:900; margin-top:6px; transition:color var(--transition-fast);}

/* Alertas */
.alerta{margin-top:8px; padding:8px 12px; border-radius:8px; font-size:12px; font-weight:600; display:flex; align-items:center; gap:6px;}
.alerta.warning{background:rgba(255,193,7,0.15); border:1px solid rgba(255,193,7,0.4); color:#ffc107;}
.alerta.danger{background:rgba(255,92,92,0.15); border:1px solid rgba(255,92,92,0.4); color:#ff5c5c;}
.alerta.success{background:rgba(90,200,120,0.15); border:1px solid rgba(90,200,120,0.4); color:#5ac878;}

/* Resultados + Gráfico */
.resultados-row{display:grid; grid-template-columns:2fr 1fr; gap:20px; margin-top:24px;}

/* KPIs */
.kpis{display:grid; grid-template-columns:repeat(2,1fr); gap:14px;}
.kpi{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:16px; transition:all var(--transition-normal);}
.kpi:hover{transform:translateY(-2px); box-shadow:0 6px 20px rgba(0,0,0,0.15);}
.kpi .t{font-size:12px; opacity:0.8; font-weight:600; text-transform:uppercase; letter-spacing:0.5px;}
.kpi .v{font-size:22px; font-weight:900; margin-top:10px; letter-spacing:-0.5px;}
.custoBox{background:rgba(245,197,66,0.08); border:1px solid rgba(245,197,66,0.35);}
.custoBox:hover{background:rgba(245,197,66,0.12); border-color:rgba(245,197,66,0.50);}
.custoBox .t{color:var(--custo);}
.ganhoBox{background:rgba(90,200,120,0.08); border:1px solid rgba(90,200,120,0.35);}
.ganhoBox:hover{background:rgba(90,200,120,0.12); border-color:rgba(90,200,120,0.50);}
.ganhoBox .t{color:var(--ganho);}

/* Lucro colors */
.lucro-positivo{color:var(--ganho);}
.lucro-negativo{color:var(--erro);}
.lucro-zero{color:var(--text); opacity:0.6;}

/* Gráfico */
.grafico-container{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:20px; display:flex; align-items:center; justify-content:center;}
.grafico-container canvas{max-height:300px;}

/* Histórico */
.historico-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;}
.historico-header h2{font-size:20px; margin:0;}
.lista-historico{display:flex; flex-direction:column; gap:12px;}
.historico-item{background:var(--panel); border:1px solid var(--border2); border-radius:12px; padding:16px; display:grid; grid-template-columns:1fr auto auto; gap:12px; align-items:center; transition:all var(--transition-fast);}
.historico-item:hover{border-color:var(--accent); background:rgba(77,108,255,0.05);}
.historico-nome{font-weight:700; font-size:15px;}
.historico-data{font-size:12px; opacity:0.6;}
.historico-valor{font-size:18px; font-weight:900; color:var(--ganho);}
.historico-acoes{display:flex; gap:8px;}
.btn-pequeno{padding:6px 12px; min-height:auto; font-size:12px;}
.empty-state{text-align:center; padding:60px 20px; opacity:0.5; font-size:14px;}

/* Comparação */
.comparacao-grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin:20px 0;}
.cenario{background:var(--panel); border:1px solid var(--border2); border-radius:12px; padding:16px;}
.cenario h3{font-size:16px; margin:0 0 12px; color:var(--accent);}
.cenario label{font-size:12px; margin:8px 0 6px;}
.cenario input{margin-bottom:12px;}
.resultado-cenario{display:flex; justify-content:space-between; padding:8px 12px; background:rgba(77,108,255,0.05); border-radius:8px; margin-top:8px;}
.resultado-cenario .label{font-size:13px; opacity:0.8;}
.resultado-cenario .valor{font-weight:900; font-size:16px;}

/* Modo Cliente */
.modo-cliente{max-width:600px; margin:0 auto;}
.modo-cliente h2{margin-bottom:16px;}
.cliente-info{display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:20px;}
.orcamento-visual{background:var(--panel); border:2px solid var(--border); border-radius:12px; padding:20px; margin-bottom:20px;}
.orcamento-item{display:flex; justify-content:space-between; padding:12px 0; border-bottom:1px solid var(--border2); font-size:15px;}
.orcamento-item:last-child{border-bottom:none;}
.orcamento-item.total{margin-top:8px; padding-top:16px; border-top:2px solid var(--accent); font-size:18px;}

/* Modal */
.modal{display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(11,13,18,0.85); backdrop-filter:blur(8px); z-index:2000; align-items:center; justify-content:center; animation:fadeIn var(--transition-normal);}
.modal.show{display:flex;}
.modal-content{background:var(--card); border:1px solid var(--border); border-radius:20px; width:90%; max-width:500px; box-shadow:0 20px 60px rgba(0,0,0,0.6); animation:slideUp 0.3s ease;}
@keyframes slideUp{from{opacity:0; transform:translateY(30px);} to{opacity:1; transform:translateY(0);}}
.modal-header{display:flex; justify-content:space-between; align-items:center; padding:20px 24px; border-bottom:1px solid var(--border);}
.modal-header h3{margin:0; font-size:18px; font-weight:800;}
.close-btn{background:none; border:none; font-size:28px; color:var(--text); cursor:pointer; opacity:0.6; transition:all var(--transition-fast); padding:0; width:32px; height:32px; border-radius:8px; display:flex; align-items:center; justify-content:center;}
.close-btn:hover{opacity:1; background:var(--panel);}
.modal-body{padding:24px;}
.modal-body .field{margin-bottom:16px;}
.modal-footer{display:flex; gap:12px; padding:16px 24px; border-top:1px solid var(--border); justify-content:flex-end;}
.resultado-calc{margin-top:20px; padding:16px; background:rgba(90,200,120,0.1); border:1px solid rgba(90,200,120,0.3); border-radius:12px; display:flex; justify-content:space-between; align-items:center; font-size:16px; font-weight:700;}
.resultado-calc span{color:var(--ganho); font-size:20px;}

/* Toast */
.toast{position:fixed; bottom:24px; right:24px; background:var(--card); border:1px solid var(--border); border-radius:12px; padding:16px 20px; box-shadow:0 8px 32px rgba(0,0,0,0.4); transform:translateY(120%); opacity:0; transition:all var(--transition-normal); z-index:1000; max-width:320px;}
.toast.show{transform:translateY(0); opacity:1;}
.toast.success{border-left:4px solid var(--ganho);}
.toast.error{border-left:4px solid var(--erro);}

/* Responsive */
@media (max-width:1024px){
  .resultados-row{grid-template-columns:1fr;}
  .comparacao-grid{grid-template-columns:1fr;}
}
@media (max-width:820px){
  .wrap{padding:16px;} .card{padding:18px;}
  .main-header h1{font-size:20px;}
  .field{grid-column:1/-1;} .kpis{grid-template-columns:1fr;}
  .sell-grid{grid-template-columns:1fr;}
  .templates-grid{grid-template-columns:1fr 1fr;}
  .cliente-info{grid-template-columns:1fr;}
  .actions .btn{flex:1 1 100%;}
  .toast{left:16px; right:16px; bottom:16px; max-width:none;}
  .modal-content{width:95%; margin:16px;}
}
@media (max-width:480px){
  .wrap{padding:12px;} .card{padding:14px;}
  .main-header h1{font-size:18px;}
  .btn{min-height:44px; font-size:13px; padding:10px 14px;}
  input,select{min-height:44px; font-size:15px;}
  .tabs-principal{gap:4px;}
  .tab-btn{padding:8px 12px; font-size:12px;}
}
